(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(10),r=c.n(n),s=c(4),a=c(18),o=c(15),i=c(3),u=c(12),l=c(17),d="TODOS_LOADING",j="USER_LOADING",b="SELECT_ID",O="DELETE_TODO",p="SELECT_TODO",f=function(e){return e.todos},h=function(e){return e.selectedTodos},_=function(e){return e.selectedUserById},m={todos:[],selectedUserById:0,user:null,selectedTodos:[]},x=Object(u.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(i.a)(Object(i.a)({},e),{},{todos:[].concat(Object(o.a)(e.todos),Object(o.a)(t.todos))});case p:return Object(i.a)(Object(i.a)({},e),{},{selectedTodos:t.todos});case O:return Object(i.a)(Object(i.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});case j:return Object(i.a)(Object(i.a)({},e),{},{user:t.user});case b:return Object(i.a)(Object(i.a)({},e),{},{selectedUserById:t.id});default:return e}}),Object(l.composeWithDevTools)()),v=x,y=c(7),T=c(5),N=c(6),C=c.n(N),E=c(0),L=(c(27),c(28),"https://mate.academy/students-api/todos"),S="https://mate.academy/students-api/users";function A(){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(L);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return D.apply(this,arguments)}function D(){return(D=Object(y.a)(C.a.mark((function e(t){var c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(S,"/").concat(t));case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(29);var U=c(14),I=c.n(U),g=c(1),B=function(){var e=Object(s.b)(),t=Object(s.c)(_),c=Object(s.c)(h);return Object(g.jsxs)("div",{className:"TodoList",children:[Object(g.jsx)("h2",{children:"Todos:"}),Object(g.jsx)("div",{className:"TodoList__list-container",children:Object(g.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:c.map((function(c){var n=c.userId,r=c.title,s=c.completed,a=c.id;return Object(g.jsxs)("li",{className:I()("TodoList__item",{"TodoList__item--checked":s},{"TodoList__item--unchecked":!s}),children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"checkbox",checked:s,readOnly:!0}),Object(g.jsx)("p",{children:r})]}),n&&Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{className:I()("TodoList__user-button","button",{"TodoList__user-button--selected":t===n}),type:"button","data-cy":"userButton",value:n,onClick:function(){return e({type:"SELECT_ID",id:n})},children:"User #".concat(n)}),Object(g.jsx)("button",{type:"button",className:"TodoList__user-button button",onClick:function(){return e({type:"DELETE_TODO",id:a})},children:"X"})]})]},a)}))})})]})},F=(c(31),function(){var e=Object(E.useState)(null),t=Object(T.a)(e,2),c=t[0],n=t[1],r=Object(s.b)(),a=Object(s.c)(_);return Object(E.useEffect)((function(){var e=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(a);case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]),Object(g.jsx)(g.Fragment,{children:c&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"CurrentUser",children:[Object(g.jsx)("h2",{className:"CurrentUser__title",children:Object(g.jsx)("span",{children:"Selected user: ".concat(c.id)})}),Object(g.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:c.name}),Object(g.jsx)("p",{className:"CurrentUser__email",children:c.email}),Object(g.jsx)("p",{className:"CurrentUser__phone",children:c.phone})]}),Object(g.jsx)("button",{type:"button",className:"CurrentUser__clearButton",onClick:function(){return r({type:"SELECT_ID",id:0})},children:"Clean User"})]})})}),G=function(){var e=Object(s.c)(_),t=Object(s.c)(f),c=Object(s.b)(),n=Object(E.useState)(""),r=Object(T.a)(n,2),a=r[0],o=r[1],i=Object(E.useState)("All"),u=Object(T.a)(i,2),l=u[0],d=u[1],j=Object(E.useState)(!0),b=Object(T.a)(j,2),O=b[0],p=b[1];Object(E.useEffect)((function(){var e=function(){var e=Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,c({type:"TODOS_LOADING",todos:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})),m=function(){switch(l){case"All":default:return h;case"Completed":return h.filter((function(e){return e.completed}));case"Active":return h.filter((function(e){return!e.completed}))}}();return O||m.sort((function(e,t){return e.title.localeCompare(t.title)})),Object(E.useEffect)((function(){c({type:"SELECT_TODO",todos:m})}),[m]),Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("div",{className:"App__sidebar",children:[Object(g.jsxs)("form",{className:"App__form",children:[Object(g.jsx)("p",{children:"Select Todos"}),Object(g.jsx)("input",{onChange:function(e){return o(e.target.value)},value:a,type:"text",id:"search-query",className:"App__input",placeholder:"Type key-word","data-cy":"filterByTitle"}),Object(g.jsxs)("select",{name:"todoFilter",value:l,className:"App__select",onChange:function(e){d(e.target.value)},children:[Object(g.jsx)("option",{children:"All"}),Object(g.jsx)("option",{children:"Completed"}),Object(g.jsx)("option",{children:"Active"})]})]}),Object(g.jsx)("button",{type:"button",className:"App__sortButton",onClick:function(){return p(!O)},children:O?"Sort":"UnSort"}),Object(g.jsx)(B,{})]}),Object(g.jsx)("div",{className:"App__content",children:Object(g.jsx)("div",{className:"App__content-container",children:e?Object(g.jsx)(F,{}):"No user selected"})})]})},J=function(){return Object(g.jsx)(s.a,{store:v,children:Object(g.jsx)(a.a,{children:Object(g.jsx)(G,{})})})};r.a.render(Object(g.jsx)(J,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ae3147af.chunk.js.map