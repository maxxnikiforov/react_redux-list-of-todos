{"version":3,"sources":["store/index.ts","api.ts","components/TodoList/TodoList.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TODOS_LOADING","USER_LOADING","SELECT_ID","DELETE_TODO","SELECT_TODO","getTodosSelector","state","todos","getSelectedTodosSelector","selectedTodos","getSelectedUserByIdSelector","selectedUserById","initialState","user","store","createStore","action","type","filter","todo","id","composeWithDevTools","TODOS_API","USERS_API","getTodos","a","fetch","response","json","getUser","userId","TodoList","dispatch","useDispatch","selectedUserId","useSelector","className","map","title","completed","classNames","checked","readOnly","value","onClick","CurrentUser","useState","setUser","currentUserId","useEffect","newUser","currentUser","name","email","phone","App","query","setQuery","statusTodo","setStatusTodo","sort","setSort","getAll","all","filteredTodos","toLowerCase","includes","showTodos","preparedTodo","tdo1","tdo2","localeCompare","onChange","event","target","placeholder","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ae3147af.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst TODOS_LOADING = 'TODOS_LOADING';\nconst USER_LOADING = 'USER_LOADING';\nconst SELECT_ID = 'SELECT_ID';\nconst DELETE_TODO = 'DELETE_TODO';\nconst SELECT_TODO = 'SELECT_TODO';\n\nexport const todosLoadingAction = (todos: Todo[]) => ({\n  type: TODOS_LOADING,\n  todos,\n});\nexport const userLoadingAction = (user: User) => ({\n  type: USER_LOADING,\n  user,\n});\nexport const idSelectAction = (id: number) => ({\n  type: SELECT_ID,\n  id,\n});\nexport const todoDeleteAction = (id: number) => ({\n  type: DELETE_TODO,\n  id,\n});\nexport const todoSelecteAction = (todos: Todo[]) => ({\n  type: SELECT_TODO,\n  todos,\n});\n\nexport const getTodosSelector = (state: RootState) => state.todos;\nexport const getSelectedTodosSelector\n = (state: RootState) => state.selectedTodos;\nexport const getSelectedUserByIdSelector\n = (state: RootState) => state.selectedUserById;\nexport const getCurrentUserSelector = (state: RootState) => state.user;\n\nexport type RootState = {\n  todos: Todo[];\n  selectedUserById: number;\n  user: User | null;\n  selectedTodos: Todo[];\n};\n\nconst initialState: RootState = {\n  todos: [],\n  selectedUserById: 0,\n  user: null,\n  selectedTodos: [],\n};\n\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case TODOS_LOADING:\n      return {\n        ...state,\n        todos: [...state.todos, ...action.todos],\n      };\n\n    case SELECT_TODO:\n      return {\n        ...state,\n        selectedTodos: action.todos,\n      };\n\n    case DELETE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.id),\n      };\n\n    case USER_LOADING:\n      return {\n        ...state,\n        user: action.user,\n      };\n\n    case SELECT_ID:\n      return {\n        ...state,\n        selectedUserById: action.id,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(), // allows you to use http://extension.remotedev.io/\n);\n\nexport default store;\n","const TODOS_API = 'https://mate.academy/students-api/todos';\nconst USERS_API = 'https://mate.academy/students-api/users';\n\nexport async function getTodos(): Promise<Todo[]> {\n  const response = await fetch(TODOS_API);\n\n  return response.json();\n}\n\nexport async function getUser(userId: number): Promise<User> {\n  const response = await fetch(`${USERS_API}/${userId}`);\n\n  return response.json();\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport {\n  getSelectedUserByIdSelector,\n  getSelectedTodosSelector,\n} from '../../store';\n\nexport const TodoList: React.FC = () => {\n  const dispatch = useDispatch();\n  const selectedUserId = useSelector(getSelectedUserByIdSelector);\n  const todos = useSelector(getSelectedTodosSelector);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\" data-cy=\"listOfTodos\">\n          {todos.map(({\n            userId,\n            title,\n            completed,\n            id,\n          }) => (\n            <li\n              key={id}\n              className={classNames(\n                'TodoList__item',\n                { 'TodoList__item--checked': completed },\n                { 'TodoList__item--unchecked': !completed },\n              )}\n            >\n              <label>\n                <input type=\"checkbox\" checked={completed} readOnly />\n                <p>{title}</p>\n              </label>\n              {userId && (\n                <div>\n                  <button\n                    className={classNames(\n                      'TodoList__user-button', 'button',\n                      {\n                        'TodoList__user-button--selected': selectedUserId\n                       === userId,\n                      },\n                    )}\n                    type=\"button\"\n                    data-cy=\"userButton\"\n                    value={userId}\n                    onClick={() => dispatch({ type: 'SELECT_ID', id: userId })}\n                  >\n                    {`User #${userId}`}\n                  </button>\n\n                  <button\n                    type=\"button\"\n                    className=\"TodoList__user-button button\"\n                    onClick={() => dispatch({ type: 'DELETE_TODO', id })}\n                  >\n                    X\n                  </button>\n                </div>\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getSelectedUserByIdSelector } from '../../store';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\nexport const CurrentUser: React.FC = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const dispatch = useDispatch();\n  const currentUserId = useSelector(getSelectedUserByIdSelector);\n\n  useEffect(() => {\n    const newUser = async () => {\n      const currentUser = await getUser(currentUserId);\n\n      setUser(currentUser);\n    };\n\n    newUser();\n  }, [currentUserId]);\n\n  return (\n    <>\n      {user && (\n        <>\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>\n                {`Selected user: ${user.id}`}\n              </span>\n            </h2>\n\n            <h3\n              className=\"CurrentUser__name\"\n              data-cy=\"userName\"\n            >\n              {user.name}\n            </h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n          </div>\n\n          <button\n            type=\"button\"\n            className=\"CurrentUser__clearButton\"\n            onClick={() => dispatch({ type: 'SELECT_ID', id: 0 })}\n          >\n            Clean User\n          </button>\n        </>\n      )}\n    </>\n  );\n};\n","import { useSelector, useDispatch } from 'react-redux';\nimport React, { useEffect, useState } from 'react';\n\nimport {\n  getSelectedUserByIdSelector,\n  getTodosSelector,\n} from './store';\n\nimport './App.scss';\nimport './styles/general.scss';\nimport { getTodos } from './api';\nimport { TodoList } from './components/TodoList/TodoList';\nimport { CurrentUser } from './components/CurrentUser/CurrentUser';\n\nexport const App: React.FC = () => {\n  const selectedUserId = useSelector(getSelectedUserByIdSelector);\n  const todos = useSelector(getTodosSelector);\n  const dispatch = useDispatch();\n  const [query, setQuery] = useState('');\n  const [statusTodo, setStatusTodo] = useState('All');\n  const [sort, setSort] = useState(true);\n\n  useEffect(() => {\n    const getAll = async () => {\n      const all = await getTodos();\n\n      dispatch({ type: 'TODOS_LOADING', todos: all });\n    };\n\n    getAll();\n  }, []);\n\n  const filteredTodos\n    = todos.filter(({ title }) => title.toLowerCase()\n      .includes(query.toLowerCase()));\n\n  const changeStatusTodo = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setStatusTodo(event.target.value);\n  };\n\n  const preparedTodo = () => {\n    switch (statusTodo) {\n      case 'All':\n        return filteredTodos;\n      case 'Completed':\n        return filteredTodos.filter(({ completed }) => completed);\n      case 'Active':\n        return filteredTodos.filter(({ completed }) => !completed);\n\n      default:\n        return filteredTodos;\n    }\n  };\n\n  const showTodos = preparedTodo();\n\n  if (!sort) {\n    showTodos.sort((tdo1, tdo2) => tdo1.title.localeCompare(tdo2.title));\n  }\n\n  useEffect(() => {\n    dispatch({ type: 'SELECT_TODO', todos: showTodos });\n  }, [showTodos]);\n\n  return (\n    <div className=\"App\">\n\n      <div className=\"App__sidebar\">\n        <form className=\"App__form\">\n          <p>Select Todos</p>\n          <input\n            onChange={(event) => setQuery(event.target.value)}\n            value={query}\n            type=\"text\"\n            id=\"search-query\"\n            className=\"App__input\"\n            placeholder=\"Type key-word\"\n            data-cy=\"filterByTitle\"\n          />\n\n          <select\n            name=\"todoFilter\"\n            value={statusTodo}\n            className=\"App__select\"\n            onChange={changeStatusTodo}\n          >\n            <option>All</option>\n            <option>Completed</option>\n            <option>Active</option>\n          </select>\n        </form>\n\n        <button\n          type=\"button\"\n          className=\"App__sortButton\"\n          onClick={() => setSort(!sort)}\n        >\n          {sort ? 'Sort' : 'UnSort'}\n        </button>\n\n        <TodoList />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport { App } from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}